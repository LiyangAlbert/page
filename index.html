<!DOCTYPE html>
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vi</title>
    <meta name="Description" content="Home Page of iissnan" />
    <meta name="color-scheme" content="dark light" />
    <script>
      (function (H) {
        H.className = H.className.replace(/\bno-js\b/, "js");
      })(document.documentElement);
    </script>
    <link rel="stylesheet" type="text/css" href="assets/css/main.css" />
    <style>
      /* 打字机和淡入动画 */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }

      .animate-fade-in {
        animation: fadeIn 0.8s ease-out;
      }
      .cursor-blink {
        animation: blink 0.7s infinite;
        display: inline-block;
        margin-left: 1px;
        line-height: 1;
      }
    </style>
  </head>

  <body>
    <div class="vi">
      <h1 class="animate-slide-in-down">西木笔记</h1>
      <h3 class="animate-slide-in-down">Personal Webpage of Liyang_Albert.</h3>
      <div class="quote">
        <span class="quote-line quote-line-start animate-slide-in-left"></span>
        <span class="quote-icon quote-icon-start animate-slide-in-down">
          <i class="icon icon-quotes-left"></i>
        </span>
        <p class="quote-content animate-slide-in-down">
          <span id="typed-text" class="block"></span>
          <span class="cursor-blink text-white">|</span>
        </p>
        <br />
        <span class="quote-icon quote-icon-end animate-slide-in-up">
          <i class="icon icon-quotes-right"></i>
        </span>
        <span class="quote-line quote-line-end animate-slide-in-right"></span>
      </div>
      <div class="links">
        <a href="index copy.html" class="animate-slide-in-down">简历</a>

        <a
          href="https://space.bilibili.com/440963264?spm_id_from=333.1007.0.0"
          class="animate-slide-in-down"
          >笔记</a
        >

        <a href="https://github.com/liyangalbert" class="animate-slide-in-down"
          >GitHub</a
        >
        <a
          href="https://blog.csdn.net/m0_69599137?type=blog"
          class="animate-slide-in-down"
          >CSDN</a
        >
        <a
          href="https://www.zhihu.com/people/entropic-41"
          class="animate-slide-in-down"
          >Zhihu</a
        >
        <a
          href="https://space.bilibili.com/440963264?spm_id_from=333.1007.0.0"
          class="animate-slide-in-down"
          >Bilibili</a
        >
      </div>
      <div class="location">
        <span class="location-icon animate-slide-in-up">
          <i class="icon icon-map-pin"></i>
        </span>
        <span class="location-text animate-slide-in-down"
          >ChangSha - China</span
        >
      </div>

      <div class="end animate-slide-in-down">
        <p>LiyangAlbert 基于 <a href="https://github.com/iissnan/iissnan.github.com" target="_blank">iissnan.github.com</a> 开源项目构建</p>
      </div>

      <div class="relocating">
        Navigating to: <span class="relocate-location"></span>...
      </div>
    </div>

    <script src="assets/vendors/jquery-3.3.1.min.js"></script>
    <script>
      $(function () {
        var SLIDE_IN_DOWN = { opacity: 1, top: 0 };
        var SLIDE_IN_UP = { opacity: 1, bottom: 0 };
        var SLIDE_IN_LEFT = { left: 0 };
        var SLIDE_IN_RIGHT = { right: 0 };

        registerCheatCode();
        executeAnimations();

        function executeAnimations() {
          $.when()
            .then(animateTitle)
            .then(animateQuote)
            .then(animateLinks)
            .then(animateLocation);
        }

        function animateTitle() {
          return $.when(
            animate("h1", SLIDE_IN_DOWN),
            animate("h3", SLIDE_IN_DOWN, 200)
          );
        }

        function animateQuote() {
          return $.when(
            animate(".quote-line-start", SLIDE_IN_LEFT),
            animate(".quote-line-end", SLIDE_IN_RIGHT),
            animate(".quote-icon-start", SLIDE_IN_DOWN),
            animate(".quote-icon-end", SLIDE_IN_UP)
          ).then(function () {
            return animate(".quote-content", SLIDE_IN_DOWN);
          });
        }

        function animateLinks() {
          var DELAY_STEP = 200;
          var elements = $(".links a");
          var concurrent = $.makeArray(elements).map(function (element, index) {
            return animate(element, SLIDE_IN_DOWN, index * DELAY_STEP);
          });

          return $.when.apply($, concurrent);
        }

        function animateLocation() {
          return $.when(
            animate(".location-icon", SLIDE_IN_UP),
            animate(".location-text", SLIDE_IN_DOWN)
          ).then(function () {
            return animate(".end", SLIDE_IN_DOWN);
          });
        }

        function animate(selector, properties, delay, options) {
          delay = delay || 0;
          return $(selector)
            .delay(delay)
            .animate(properties, options)
            .promise();
        }

        function registerCheatCode() {
          $(document.body).on("keydown", function (event) {
            var KEY_B = 66;

            if (event.which === KEY_B) {
              $(".relocate-location").text("Bookmark Page");
              $(".relocating").css("opacity", 1);

              window.setTimeout(function () {
                window.location.href = "/bookmarks.html";
              }, 1000);
            }
          });
        }

        // 打字机效果
        const texts = [
          "京口瓜洲一水间，钟山只隔数重山。春风又绿江南岸，明月何时照我还。",
          "上邪！我欲与君相知，长命无绝衰。",
          "山无陵，江水为竭，冬雷震震，夏雨雪，天地合，乃敢与君绝！",
          "锦瑟无端五十弦，一弦一柱思华年。庄生晓梦迷蝴蝶，望帝春心托杜鹃。",
          "沧海月明珠有泪，蓝田日暖玉生烟。此情可待成追忆，只是当时已惘然。",
          "The frontier where technology meets life.",
        ];

        const typedTextElement = document.getElementById("typed-text");

        const config = {
          typingSpeed: 100,
          pauseBetweenTexts: 2000,
          deletingSpeed: 50,
        };

        class TypeWriter {
          constructor(texts, element, config) {
            this.texts = texts;
            this.element = element;
            this.config = config;
            this.textIndex = 0;
            this.charIndex = 0;
            this.isDeleting = false;
          }

          type() {
            const currentText = this.texts[this.textIndex];

            if (!this.isDeleting) {
              this.element.textContent = currentText.slice(
                0,
                this.charIndex + 1
              );
              this.charIndex++;
            } else {
              this.element.textContent = currentText.slice(
                0,
                this.charIndex - 1
              );
              this.charIndex--;
            }

            if (!this.isDeleting && this.charIndex === currentText.length) {
              setTimeout(() => {
                this.isDeleting = true;
              }, this.config.pauseBetweenTexts);
            } else if (this.isDeleting && this.charIndex === 0) {
              this.isDeleting = false;
              this.textIndex = (this.textIndex + 1) % this.texts.length;
            }

            const speed = this.isDeleting
              ? this.config.deletingSpeed
              : this.config.typingSpeed;
            setTimeout(() => this.type(), speed);
          }

          start() {
            this.type();
          }
        }

        const typeWriter = new TypeWriter(texts, typedTextElement, config);
        typeWriter.start();
      });
    </script>
  </body>
</html>
